
# 收集器
## 串行回收器
### 新生代串行回收器
新生代串行处理器使用复制算法

### 老年代串行回收器
老年代串行收集器使用标记整理算法

## 并行回收器
### 新生代ParNew回收器
**-XX:+UserParNewGC**：新生代使用ParNew回收器，老年代使用串行回收器

**-XX:+UserConcMarkSweepGC**：新生代使用ParNew回收器，老年代使用CMS

ParNew回收器工作时的线程数量可以使用 **-XX:ParallelGCThreads** 参数指定，一般最好与CPU数量相当，低于8个CPU时，ParallelGCThreads的值等于CPU数量，大于8个时，ParallelGCThreads的值等于`3+5*CPU_COUNT/8`

### 新生代ParallelGC回收器
`ParallelGC`非常关注系统的吞吐量

新生代ParallelGC回收器可以使用以下参数启用

- **-XX:+UseParallelGC**：新生代使用ParallelGC回收器，老年代使用串行回收器

- **-XX:+UseParallelOldGC**：新生代使用ParallelGC回收器，老年代使用ParallelOldGC回收器

新生代ParallelGC回收器提供两个重要的参数用于控制系统的吞吐量

- **-XX:MaxGCPauseMillis**：设置最大垃圾收集停顿时间

- **-XX:GCTimeRatio**：设置吞吐量大小

这两个参数是矛盾的，通常如果减少一次手机的最大停顿时间，就会同时减少系统吞吐量，增加系统吞吐量又可能会同时增加一次垃圾回收的最大停顿

ParallelGC回收器与ParNew回收器还有一不同之处在于ParallelGC支持一种自适应的GC调节策略。

**-XX:+UseAdaptiveSizePolicy**：打开自适应GC策略。在这种模式下，新生代的大小，eden和survivor的比列，晋升新生代的对象年龄等参数会被自动调整，以达到在堆大小、吞吐量和停顿时间之间的平衡点

### 老年代ParallelOldGC收集器
关注吞吐量的收集器，使用参数 **-XX:+UsePallelOldGC** 配合新生代的ParallelGC使用，采用标记整理算法，可以通过参数 **-XX:ParallelGCThreads** 设置垃圾回收时的线程数量
