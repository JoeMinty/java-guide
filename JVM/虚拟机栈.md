# 虚拟机字节码执行引擎

## Java虚拟机栈
是线程私有的，生命周期和线程相同。虚拟机栈描述的是**Java方法执行的内存模型**，每一个方法从调用直至执行完成，对应着一个栈帧在虚拟机栈中从入栈到出栈的过程。

## 运行时栈帧结构

### 局部变量表
局部变量表（local variable table）是一组变量值存储空间，用于存放方法参数和方法内部定义的局部变量。

局部变量表的容量以变量槽（slot）为最小单位，一个slot可以存放一个32位以内的数据类型，局部变量表中的slot可以重用，方法体中定义的变量，其作用域并不一定会覆盖整个方法体，
如果当前字节码pc计数器的值已经超出了某个变量的作用域，那么这个变量对应的slot就可以交给其他变量使用。

### 操作数栈
当一个方法刚刚开始执行的时候，这个方法的操作数栈是空的，在方法执行过程中，会有各种字节码指令往操作数栈中写入和提取内容，也就是入栈／出栈操作。

### 动态连接
每个栈帧都包含一个指向运行时常量池中该栈帧所属方法的引用。

### 方法返回地址
方法退出的过程实际上就等同于把当前栈帧出栈，因此退出时可能执行的操作有：回复上层方法的局部变量表和操作数栈，把返回值（如果有的话）压入调用者栈帧的操作数栈中，调整pc计数器的值以指向方法调用指令后面的一条指令等。

## 方法调用
