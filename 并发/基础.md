## 线程安全性
在线程安全性的定义中，最核心的概念就是正确性。何为正确性？就是某个类的行为与其规范完全一致。
在良好的规范中通常会定义各种 **不变性条件（Invariant）** 来约束对象的状态，以及定义各种 **后验条件（Postcondition）** 来描述对象操作的结果。

所以，当多个线程访问某个类时，这个类始终都能表现出正确的行为，那么就称这个类是线程安全的。（线程安全类中封装了必要的同步机制）

**无状态对象一定是线程安全的**

#### 竞态条件
解释：在并发中，由于不恰当的执行顺序而出现不正确的结果
当某个计算的正确性取决于多个线程的交替执行顺序时，就会发生竞态条件
最常见的竞态条件类型就是：先检查后执行（check-then-act），就是通过一个可能失效的观测结果来决定下一步的动作。

#### 内置锁
同步代码块
```java
  synchronized(lock) {
    // 访问或修改由锁保护的共享状态
  }
```

内置锁相当于互斥锁，意味着最多只有一个线程能持有这种锁。

#### 重入
内置锁可重入。“重入”意味着获取锁的操作的粒度是线程，而不是“调用”。
